!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom"],t):e["react-ahax"]=t(e.React,e.PropTypes,e.ReactDOM)}(this,function(c,e,s){"use strict";c=c&&c.hasOwnProperty("default")?c.default:c,e=e&&e.hasOwnProperty("default")?e.default:e,s=s&&s.hasOwnProperty("default")?s.default:s;function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t,i=(function(e){function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"==n||"number"==n)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"==n)for(var i in r)c.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var c;c={}.hasOwnProperty,e.exports?(a.default=a,e.exports=a):window.classNames=a}(t={exports:{}},t.exports),t.exports),r=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=(f=c.Component,o(h,f),r(h,[{key:"componentDidMount",value:function(){this.initTimer()}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls+"-notice",n=(u(e={},r,1),u(e,t.className,!!t.className),e);return c.createElement("div",{className:i(n)},t.children)}}]),h);function h(){var e,t,r;a(this,h);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=r=p(this,(e=h.__proto__||Object.getPrototypeOf(h)).call.apply(e,[this].concat(o)))).initTimer=function(){var e=r.props.duration;e&&(r.closeTimer=setTimeout(function(){r.close()},e))},r.close=function(){r.clearTimer(),r.props.onClose()},r.clearTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},p(r,t)}d.propTypes={duration:e.number,onClose:e.func,children:e.any},d.defaultProps={onEnd:function(){},onClose:function(){},duration:3e3};var m,v=(m=c.Component,o(b,m),r(b,[{key:"render",value:function(){var e,t=this.state.notice,r=this.props,n=(u(e={},r.prefixCls,1),u(e,r.className,!!r.className),u(e,r.prefixCls+"-success","success"===t.type),u(e,r.prefixCls+"-error","error"===t.type),e),o=function(){var t=[].slice.call(arguments,0);return 1!==t.length?function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}:t[0]}(this.remove.bind(this),t.onCloseBack);return c.createElement("div",{className:i(n)},t.content&&c.createElement(d,y({prefixCls:r.prefixCls},t,{onClose:o}),t.content))}}]),b);function b(){var e,t,r;a(this,b);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=r=p(this,(e=b.__proto__||Object.getPrototypeOf(b)).call.apply(e,[this].concat(o)))).state={notice:{}},r.add=function(t){return r.setState(function(e){return{notice:t}})},r.remove=function(){return r.setState({notice:{}})},p(r,t)}return v.propTypes={prefixCls:e.string,type:e.string,onClose:e.func,duration:e.number},v.defaultProps={prefixCls:"aclink-toast"},v.createToast=function(e,r){var t=e||{},n=t.getContainer,o=l(t,["getContainer"]),i=document.createElement("div");n?n().appendChild(i):document.body.appendChild(i);var a=!1;s.render(c.createElement(v,y({},o,{ref:function(t){a||(a=!0,r({toast:function(e){t.add(e)},component:t,destroy:function(){s.unmountComponentAtNode(i),i.parentNode.removeChild(i)}}))}})),i)},{success:function(e){var t=this._getConfig(e)||{};this._text(y({type:"success"},t))},fail:function(e){var t=this._getConfig(e)||{};this._text(y({type:"error"},t))},_getConfig:function(e){var t={};if("string"==typeof e)t.content=e;else{if("[object Object]"!==Object.prototype.toString.call(e))throw new TypeError("The parameter is incorrect, requiring a string or object");t=Object.assign({},e)}return t},_text:function(n){return v.createToast({},function(e){var t=n.onClose,r=l(n,["onClose"]);e.toast(y({type:"success"},r,{onCloseBack:function(){t&&t(),e.destroy()}}))})}}});
